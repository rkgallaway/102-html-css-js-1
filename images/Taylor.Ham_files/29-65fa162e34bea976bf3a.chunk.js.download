(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{140:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e){var t=e.children,n=e.className,r="v2-form__group";return n&&(r+=" ".concat(n)),a.a.createElement("div",{className:r},t)}},1894:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(9),c=n(964),l=n(54),i=n(243),s=n(294),u=n(965),m=n(58),d=n(59),p=n(140),f=n(205),b=n(382),y=n(17);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(a=h(t).call(this,e))||"object"!==typeof a&&"function"!==typeof a?v(r):a).renderFacebookErrorMessage=n.renderFacebookErrorMessage.bind(v(n)),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(r=[{key:"renderFacebookErrorMessage",value:function(){return a.a.createElement("div",null,"Sorry, we can't convert your account through Facebook login.",a.a.createElement("br",null),"Please"," ",a.a.createElement("a",{className:"link--inverted",onClick:this.props.triggerSignUp,href:"/sign-up"},"Sign Up")," ","for a new Goldbelly account.")}},{key:"render",value:function(){var e,t=this.props,n=t.handleSubmit,r=t.triggerSignUp,o=t.apiError,c=t.loading;return a.a.createElement("form",{onSubmit:n},a.a.createElement(m.a,null,a.a.createElement(d.a,{className:"hidden-sm hidden-xs"},a.a.createElement("img",{src:"https://stowage0.goldbely.com/assets/foody-direct/foody-customer-landing-v1-image.png",className:"foody-welcome__modal-header-image"})),a.a.createElement(d.a,null,a.a.createElement(m.a,null,a.a.createElement(d.a,null,a.a.createElement("h1",{className:"foody-welcome__modal-heading"},"Convert your Foodydirect account to Goldbelly"),a.a.createElement("p",{className:"foody-welcome__modal-content"},"Login below using your Foodydirect email address & password and your account will be activated on Goldbelly.com"),a.a.createElement("p",{className:"foody-welcome__modal-content"},"Once your account is active, you will be able to access your stored payment preferences and address book,so you can continue to order your favorite bites, seamlessly."))),!!o&&a.a.createElement(b.a,null,"invalid-facebook"===(null===(e=o.data)||void 0===e?void 0:e.error)?this.renderFacebookErrorMessage():u.a.parse(o)),a.a.createElement(m.a,null,a.a.createElement(d.a,null,a.a.createElement(p.a,null,a.a.createElement(i.a,{name:"email",type:"email",component:"input",className:"v2-form__input text-center",placeholder:"Email Address",required:!0})))),a.a.createElement(m.a,null,a.a.createElement(d.a,null,a.a.createElement(p.a,null,a.a.createElement(i.a,{name:"password",type:"password",component:"input",className:"v2-form__input text-center",placeholder:"Password",required:!0})))),a.a.createElement(m.a,null,a.a.createElement(d.a,null,a.a.createElement(m.a,null,a.a.createElement(d.a,null,a.a.createElement("p",{className:"foody-welcome__modal-import-preferences-header"},"Import my Foodydirect customer profile:"))),a.a.createElement(m.a,null,a.a.createElement(d.a,null,a.a.createElement("div",{className:"v2-form__checkbox"},a.a.createElement(i.a,{id:"import_payments",name:"import_payments",type:"checkbox",component:"input",className:"v2-form__input"}),a.a.createElement("label",{className:"v2-form__checkbox-label spec__import_payments-checkbox-label",htmlFor:"import_payments"},a.a.createElement("div",{className:"v2-form__checkbox-box",id:"import-payments__checkbox"},a.a.createElement(y.a,{icon:"icon-check"})),a.a.createElement("span",null,"My saved payment preference")))),a.a.createElement(d.a,null,a.a.createElement("div",{className:"v2-form__checkbox"},a.a.createElement(i.a,{id:"import_addresses",name:"import_addresses",type:"checkbox",component:"input",className:"v2-form__input"}),a.a.createElement("label",{className:"v2-form__checkbox-label spec__import_addresses-checkbox-label",htmlFor:"import_addresses"},a.a.createElement("div",{className:"v2-form__checkbox-box",id:"import-addresses__checkbox"},a.a.createElement(y.a,{icon:"icon-check"})),a.a.createElement("span",null,"My saved address book"))))))),a.a.createElement(m.a,null,a.a.createElement(d.a,null,a.a.createElement(f.a,{className:"v2-form__btn--block",loading:c},"Convert Your Account"))),a.a.createElement(m.a,null,a.a.createElement(d.a,null,a.a.createElement("p",{className:"foody-welcome__modal-content goldbelly-new-account"},"Don't want to transfer your Foodydirect account info?",a.a.createElement("br",null),a.a.createElement("a",{onClick:r,href:"/sign-up",className:"header__sign-up-link site-header__link"},"Create a new Goldbelly Account")))))))}}])&&g(n.prototype,r),o&&g(n,o),t}(r.Component),w=Object(o.b)((function(e){return{loading:e.FoodyWelcome.Login.loading}}))(Object(s.a)({form:"foody-login",initialValues:{import_payments:!0,import_addresses:!0}})(E)),O=n(366),k=function(e){var t=e.onSubmit;return a.a.createElement(r.Fragment,null,a.a.createElement("h1",{className:"foody-welcome__modal-heading"},"WELCOME TO",a.a.createElement("br",null),"GOLDBELLY!"),a.a.createElement("p",{className:"foody-welcome__modal-content goldbelly-new-account"},"Your Goldbelly account is now active and you have been logged in."),a.a.createElement("p",{className:"foody-welcome__modal-content goldbelly-new-account"},"If you have chosen to transfer your payment and/or address book, you will be able to access them at the time of check-out."),a.a.createElement(O.a,{className:"v2-form__btn--block",onClick:t},"Start Shopping"))},N=n(198),j=n(127),x=n(45);function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"FoodyWelcome",(function(){return U}));var U=function(e){function t(){var e,n;S(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=C(this,(e=F(t)).call.apply(e,[this].concat(a)))).state={},n.onTriggerSignUp=function(e){e.preventDefault(),n.onCloseTriggered(),n.props.openAuth(n.getCurrentUrl()),n.props.switchToSignUpAuth()},n.onLogin=function(e){n.props.login({foody_direct_shopper:e}).then((function(){l.q.trackEvent(l.i)})).catch((function(e){n.setState({loginError:e})}))},n.onCloseTriggered=function(){"success"===n.props.step&&(window.location=n.getCurrentUrl()),n.props.close(),n.props.doReset()},n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.isForcedByURLParam()&&!window.isLoggedIn&&(this.props.open(),l.q.trackEvent(l.j))}},{key:"isForcedByURLParam",value:function(){return!!new URLSearchParams(window.location.search).get("fds")}},{key:"resetState",value:function(){this.setState({loginError:null})}},{key:"getCurrentUrl",value:function(){var e=window.location.href.replace(/(\&?)fds\=(\w+|\d+|\w*\d*)/gi,"");return e.endsWith("?")?e.replace("?",""):e}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.step,r=this.state.loginError;return t?a.a.createElement("div",{className:"modal spec__foody-welcome-modal"},a.a.createElement("div",{className:"modal-dialog foody-welcome__modal-dialog v2-modal__modal-dialog ".concat("success"===n?"foody-welcome__modal-dialog-sm":"")},a.a.createElement("span",{className:"close-button close",onClick:this.onCloseTriggered}),a.a.createElement("div",{className:"modal-content v2-modal__container v2-modal__container--lg"},"login"===n&&a.a.createElement("header",{className:"v2-modal__header"},a.a.createElement("div",{className:"v2-modal__gb-logo"},a.a.createElement(c.a,{svgId:"goldbelly",width:226.3,height:50.2}))),a.a.createElement("main",{className:"v2-modal__main"},"login"===n&&a.a.createElement(w,{onSubmit:this.onLogin,triggerSignUp:this.onTriggerSignUp,apiError:r}),"success"===n&&a.a.createElement(k,{onSubmit:this.onCloseTriggered}))))):null}}])&&P(n.prototype,r),o&&P(n,o),t}(r.Component),L={open:function(){return N.e()},close:function(){return N.d()},login:function(e){return j.d(e)},openAuth:function(e){return x.e(e)},switchToSignUpAuth:function(){return x.f("signup")},doReset:function(){return N.f()}};t.default=Object(o.b)((function(e){var t=e.FoodyWelcome.stepsStack,n=t.length>0?t[t.length-1]:"";return{visible:e.FoodyWelcome.visible,step:n}}),L)(U)},205:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(322),c=n(17);function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(e){var t=e.children,n=e.loading,r=e.className,i=l(e,["children","loading","className"]),s="",u="";return r&&(s+=" ".concat(r)),n&&(u+=" animation-rotate"),a.a.createElement(o.a,Object.assign({className:s,disabled:!!n},i),n?a.a.createElement(c.a,{icon:"icon-refresh",iconClasses:u,baseline:!0}):t)}},322:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(366);function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(e){var t=e.children,n=c(e,["children"]);return a.a.createElement(o.a,Object.assign({},n,{type:"submit"}),t)}},366:function(e,t,n){"use strict";var r=n(0),a=n.n(r);function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(e){var t=e.children,n=e.disabled,r=e.className,c=o(e,["children","disabled","className"]),l="v2-form__btn v2-form__btn--primary";return r&&(l+=" ".concat(r)),n&&(l+=" disabled"),a.a.createElement("button",Object.assign({className:l,disabled:!!n},c),t)}},382:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(58),c=n(59);t.a=function(e){var t=e.children;return a.a.createElement(o.a,null,a.a.createElement(c.a,null,a.a.createElement("div",{className:"v2-modal__errors text-center"},t)))}},58:function(e,t,n){"use strict";var r=n(0),a=n.n(r);function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(e){var t=e.children,n=o(e,["children"]);return a.a.createElement("div",Object.assign({className:"flex-row-v1"},n),t)}},59:function(e,t,n){"use strict";var r=n(0),a=n.n(r);function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(e){var t=e.children,n=e.className,r=o(e,["children","className"]),c="flex-col";return n&&(c+=" ".concat(n)),a.a.createElement("div",Object.assign({className:c},r),t)}},964:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),c=function(e){var t=e.svgId,n=e.width,r=e.height,o=Math.round(r/n*1e4)/100;return a.a.createElement("div",{className:"scaling-svg-container",style:{paddingBottom:"".concat(o,"%")}},a.a.createElement("svg",{role:"img",viewBox:"0 0 ".concat(n," ").concat(r),className:"scaling-svg"},a.a.createElement("use",{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:"#".concat(t)})))};c.propTypes={svgId:n.n(o).a.string.isRequired},t.a=c},965:function(e,t,n){"use strict";t.a={parse:function(e){var t;switch(null===(t=e.data)||void 0===t?void 0:t.error){case"invalid":return"Whoops, looks like the user/password is incorrect.";case"does-not-exist":return"Whoops, looks like you don't have an account yet.";case"account-locked":return"Whoops, your account is locked. Please wait 5 minutes or contact customer support to unlock your account.";case"last-attempt-warning":return"Whoops, you have one more login attempt before your account is locked.";default:return"Whoops! Something went wrong and we can't log you in at this moment. Please try again later."}}}}}]);
//# sourceMappingURL=29-65fa162e34bea976bf3a.chunk.js.map