(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1170:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),l=n(965),c=n(966),i=n(964),s=n(969),u=n(50),m=n(245),f=n(153),d=n(243),p=n(294),g=n(58),h=n(59),v=n(140),b=n(205),E=n(383),y=n(382),_=n(312),w=function(e){var t=e.handleSubmit,n=e.onForgotPasswordClicked,a=e.loginError,o=e.loading;return r.a.createElement("form",{onSubmit:t,className:"spec__login-form"},!!a&&r.a.createElement(y.a,null,a),r.a.createElement(g.a,null,r.a.createElement(h.a,null,r.a.createElement(v.a,null,r.a.createElement(d.a,{name:"email",type:"email",component:"input",className:"v2-form__input text-center",placeholder:"Email Address",required:!0})))),r.a.createElement(g.a,null,r.a.createElement(h.a,null,r.a.createElement(v.a,null,r.a.createElement(d.a,{name:"password",type:"password",component:"input",className:"v2-form__input text-center",placeholder:"Password",required:!0})))),r.a.createElement(g.a,null,r.a.createElement(h.a,null,r.a.createElement(b.a,{className:"v2-form__btn--block",loading:o},"Log In"))),r.a.createElement(g.a,null,r.a.createElement(h.a,null,r.a.createElement("a",{href:"javascript:",className:"modal-login__forgot-password-link",onClick:n},"Forgot your password?"))),r.a.createElement(_.a,null,"or"),r.a.createElement(E.a,{className:"v2-form__btn--block"},"Log In With Facebook"))};w=Object(p.a)({form:"login"})(w);var O=Object(o.b)((function(e){return{loading:e.Auth.Login.loading}}))(w),k=n(968),S=function(e){var t=e.mode;return r.a.createElement("div",{className:"v2-modal__main-header text-center"},r.a.createElement("div",{className:"v2-modal__section__title"},"login"===t&&"Log In","signup"===t&&"Sign Up","forgot-password"===t&&"Reset Your Password"))},j=function(e){var t=e.mode,n=e.onSwitchMode;return"login"!==t&&"signup"!==t?null:r.a.createElement("div",{className:"v2-auth__options"},"login"===t?r.a.createElement("div",{className:"v2-auth__option"},"Login"):r.a.createElement("a",{href:"javascript:",className:"v2-auth__option",onClick:function(){return n("login")}},"Log In"),"signup"===t?r.a.createElement("div",{className:"v2-auth__option"},"Register"):r.a.createElement("a",{href:"javascript:",className:"v2-auth__option",onClick:function(){return n("signup")}},"Register"))},N=n(45);function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function F(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"Auth",(function(){return A}));var A=function(e){function t(){var e,n;P(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=F(this,(e=C(t)).call.apply(e,[this].concat(r)))).state={},n.onSignUp=function(e){(0,n.props.signUp)({email_auth:e}).then(n.handleSuccessfulAuth).catch((function(e){n.setState({signUpError:c.a.parse(e)})}))},n.onLogin=function(e){(0,n.props.login)({email_auth:e}).then(n.handleSuccessfulAuth).catch((function(e){n.setState({loginError:l.a.parse(e)})}))},n.onSwitchMode=function(e){var t=n.props.switchMode;n.resetState(),t(e)},n.onClose=function(){var e=n.props.close;n.resetState(),e()},n.onToggle=function(e,t){var a=n.props,r=a.visible,o=a.open;window.isLoggedIn&&t?Turbolinks.visit(t):r?n.onClose():o(t)},n.handleSuccessfulAuth=function(e){if(e){var t=n.props,a=t.redirectTo,r=t.redirect,o=t.close;a?Object(f.a)()?(o(),r(a)):r(a,!0):o()}},n.resetState=function(){n.setState({loginError:null,signUpError:null})},n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){"undefined"!==typeof $&&$(document).on("toggle.auth",this.onToggle)}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof $&&$(document).off("toggle.auth",this.onToggle)}},{key:"render",value:function(){var e=this,t=this.props,n=t.visible,a=t.mode,o=(t.close,t.switchMode);if(!n)return null;var l=this.state,c=l.signUpError,u=l.loginError;return r.a.createElement("div",{className:"modal spec__auth-modal"},r.a.createElement("div",{className:"modal-dialog v2-modal__modal-dialog"},r.a.createElement("span",{className:"close-button close",onClick:this.onClose}),r.a.createElement("div",{className:"modal-content v2-modal__container spec__auth-container"},r.a.createElement("header",{className:"v2-modal__header"},r.a.createElement("div",{className:"v2-modal__gb-logo"},r.a.createElement(i.a,{svgId:"goldbelly",width:226.3,height:50.2}))),r.a.createElement("main",{className:"v2-modal__main"},r.a.createElement(S,{mode:a}),r.a.createElement(j,{mode:a,onSwitchMode:this.onSwitchMode}),"login"===a&&r.a.createElement(O,{onSubmit:this.onLogin,onForgotPasswordClicked:function(){return e.onSwitchMode("forgot-password")},loginError:u}),"signup"===a&&r.a.createElement(k.a,{onSubmit:this.onSignUp,signUpError:c}),"forgot-password"===a&&r.a.createElement(s.a,{onSubmit:this.onForgotPassword,onBack:function(){return e.onSwitchMode("login")},onClose:function(){o("login"),e.onClose()}})))))}}])&&x(n.prototype,a),o&&x(n,o),t}(a.Component),U={open:function(e){return N.e(e)},close:function(){return N.d()},switchMode:function(e){return N.f(e)},signUp:function(e,t,n){return u.i(e,t,n)},login:function(e){return u.h(e)}};t.default=Object(m.a)(Object(o.b)((function(e){return{visible:e.Auth.visible,mode:e.Auth.mode,redirectTo:e.Auth.redirectTo}}),U)(A))},140:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(e){var t=e.children,n=e.className,a="v2-form__group";return n&&(a+=" ".concat(n)),r.a.createElement("div",{className:a},t)}},205:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(322),l=n(17);function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}t.a=function(e){var t=e.children,n=e.loading,a=e.className,i=c(e,["children","loading","className"]),s="",u="";return a&&(s+=" ".concat(a)),n&&(u+=" animation-rotate"),r.a.createElement(o.a,Object.assign({className:s,disabled:!!n},i),n?r.a.createElement(l.a,{icon:"icon-refresh",iconClasses:u,baseline:!0}):t)}},322:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(366);function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}t.a=function(e){var t=e.children,n=l(e,["children"]);return r.a.createElement(o.a,Object.assign({},n,{type:"submit"}),t)}},366:function(e,t,n){"use strict";var a=n(0),r=n.n(a);function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}t.a=function(e){var t=e.children,n=e.disabled,a=e.className,l=o(e,["children","disabled","className"]),c="v2-form__btn v2-form__btn--primary";return a&&(c+=" ".concat(a)),n&&(c+=" disabled"),r.a.createElement("button",Object.assign({className:c,disabled:!!n},l),t)}},382:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(58),l=n(59);t.a=function(e){var t=e.children;return r.a.createElement(o.a,null,r.a.createElement(l.a,null,r.a.createElement("div",{className:"v2-modal__errors text-center"},t)))}},383:function(e,t,n){"use strict";var a=n(0),r=n.n(a);function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}t.a=function(e){var t=e.children,n=e.className,a=o(e,["children","className"]),l="btn-facebook v2-form__btn";return n&&(l+=" ".concat(n)),r.a.createElement("a",Object.assign({href:"/auth/facebook",className:l},a),r.a.createElement("i",{className:"facebook-icon-for-btn-md"}),t)}},58:function(e,t,n){"use strict";var a=n(0),r=n.n(a);function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}t.a=function(e){var t=e.children,n=o(e,["children"]);return r.a.createElement("div",Object.assign({className:"flex-row-v1"},n),t)}},59:function(e,t,n){"use strict";var a=n(0),r=n.n(a);function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}t.a=function(e){var t=e.children,n=e.className,a=o(e,["children","className"]),l="flex-col";return n&&(l+=" ".concat(n)),r.a.createElement("div",Object.assign({className:l},a),t)}},964:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),l=function(e){var t=e.svgId,n=e.width,a=e.height,o=Math.round(a/n*1e4)/100;return r.a.createElement("div",{className:"scaling-svg-container",style:{paddingBottom:"".concat(o,"%")}},r.a.createElement("svg",{role:"img",viewBox:"0 0 ".concat(n," ").concat(a),className:"scaling-svg"},r.a.createElement("use",{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:"#".concat(t)})))};l.propTypes={svgId:n.n(o).a.string.isRequired},t.a=l},965:function(e,t,n){"use strict";t.a={parse:function(e){var t;switch(null===(t=e.data)||void 0===t?void 0:t.error){case"invalid":return"Whoops, looks like the user/password is incorrect.";case"does-not-exist":return"Whoops, looks like you don't have an account yet.";case"account-locked":return"Whoops, your account is locked. Please wait 5 minutes or contact customer support to unlock your account.";case"last-attempt-warning":return"Whoops, you have one more login attempt before your account is locked.";default:return"Whoops! Something went wrong and we can't log you in at this moment. Please try again later."}}}},966:function(e,t,n){"use strict";t.a={parse:function(e){var t;switch(null===(t=e.data)||void 0===t?void 0:t.error){case"password-too-short":return"Whoops! Looks like your password is too short. It should be at least 6 characters long.";case"exists":return"Whoops! Looks like that email address is already associated with an account.";default:return"Whoops! Something went wrong and we can't create your account at this moment. Please try again later."}}}},968:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(9),l=n(243),c=n(294),i=n(970),s=n(58),u=n(59),m=n(140),f=n(205),d=n(383),p=n(382),g=n(312),h=function(e){var t=e.handleSubmit,n=e.signUpError,a=e.loading;return r.a.createElement("form",{onSubmit:t,className:"spec__signup-form"},!!n&&r.a.createElement(p.a,null,n),r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(l.a,{name:"email",type:"email",component:"input",className:"v2-form__input text-center",placeholder:"Email Address",required:!0})))),r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(l.a,{name:"password",type:"password",component:"input",className:"v2-form__input text-center",placeholder:"Choose A Password",required:!0,pattern:".{6,}",title:"Please choose a password that is at least 6 characters long"})))),r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement(f.a,{className:"v2-form__btn--block",loading:a},"Sign Up"))),r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement("div",{className:"modal-login__terms"},"By signing up, you agree to our",r.a.createElement("br",null),r.a.createElement("a",{href:"/terms-of-service",target:"_blank"},"Terms of Service"),r.a.createElement("span",null," \u2022 "),r.a.createElement("a",{href:"https://help.goldbelly.com/hc/en-us/articles/224269707",target:"_blank"},"Returns/Refunds Policy"),r.a.createElement("span",null," \u2022 "),r.a.createElement("a",{href:"/privacy-and-security",target:"_blank"},"Privacy Policy")))),r.a.createElement(g.a,null,"or"),r.a.createElement(d.a,{className:"v2-form__btn--block"},"Sign Up With Facebook"))};h=Object(c.a)({form:"signup",initialValues:{email:function(){try{var e=new URLSearchParams(window.location.search).get("ro");if(e&&"string"===typeof e){var t=window.atob(e).replace(/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,"");return i.sanitize(t)}}catch(n){return""}}()}})(h),t.a=Object(o.b)((function(e){return{loading:e.Auth.Signup.loading}}))(h)},969:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(9),l=n(50),c=n(243),i=n(294),s=n(58),u=n(59),m=n(140),f=n(205),d=Object(i.a)({form:"forgot-password"})((function(e){var t=e.handleSubmit,n=e.loading,a=e.onBack;return r.a.createElement("form",{onSubmit:t},r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement(m.a,null,r.a.createElement(c.a,{name:"email",type:"email",component:"input",className:"v2-form__input text-center",placeholder:"Your Email",required:!0})))),r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement(f.a,{className:"v2-form__btn--block",loading:n},"Reset"))),r.a.createElement("div",{className:"v2-modal__main-footer text-center"},"Did you remember it?"," ",r.a.createElement("a",{href:"javascript:",className:"v2-modal__link",onClick:a},"Log In")))})),p=n(322),g=function(e){var t=e.email,n=e.onAccept;return r.a.createElement(a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement("div",{className:"text-center spec__forgot-password__success"},"Check your email ".concat(t," and follow the link to complete your password reset.")))),r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement(p.a,{className:"v2-form__btn--block",onClick:n},"Got It!"))))};function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){function t(){var e,n;h(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=b(this,(e=E(t)).call.apply(e,[this].concat(r)))).state={email:null,loading:!1,success:!1},n.handleSubmit=function(e){var t=n.props.forgotPassword;n.setState({loading:!0,email:e.email}),t(e).then((function(){n.setState({success:!0,loading:!1})})).catch((function(){n.setState({success:!1,loading:!1})}))},n.onSubmit=function(e){var t=n.props.forgotPassword;n.setState({loading:!0,email:e.email}),t(e).then((function(){n.setState({success:!0,loading:!1})})).catch((function(){n.setState({success:!1,loading:!1})}))},n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.defaultEmail,n=e.onBack,a=e.onClose,o=this.state,l=o.email,c=o.loading,i=o.success;return r.a.createElement(r.a.Fragment,null,!i&&r.a.createElement(d,{initialValues:{email:t},loading:c,onSubmit:this.handleSubmit,onBack:n}),i&&r.a.createElement(g,{email:l,onAccept:a}))}}])&&v(n.prototype,a),o&&v(n,o),t}(a.Component);t.a=Object(o.b)(null,{forgotPassword:function(e){return l.g(e)}})(_)}}]);
//# sourceMappingURL=26-c95cd7ad2189477949c3.chunk.js.map